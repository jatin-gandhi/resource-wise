cd frontend

echo "\n\nğŸ¨ Checking code formatting with Prettier..."
npm run prettier:apply . || { echo "âŒ Prettier check failed. Please run 'npm run prettier:apply' and stage the changes. Aborting commit."; exit 1; }

echo "\n\nğŸ” Running ESLint for code quality checks..."
npm run lint:fix || { echo "âŒ ESLint check failed. Please fix issues and stage the changes. Aborting commit."; exit 1; }

echo "âœ… Pre-commit checks passed successfully for frontend!"

cd ../backend

echo "ğŸ Running isort on backend..."
poetry run isort . --profile=black --line-length=100 || { echo "âŒ isort failed. Please run 'poetry run isort . --profile=black ' and stage the changes. Aborting commit."; exit 1; }

echo "ğŸ Running Black on backend..."
poetry run black . --line-length 100 || { echo "âŒ Black formatting failed. Please run 'poetry run black . --line-length 100 ' and stage the changes. Aborting commit."; exit 1; }

echo "ğŸ Running Flake8 on backend..."
poetry run flake8 . --max-line-length=100 || { echo 'âŒ Flake8 failed. Please fix lint errors. Aborting commit.'; exit 1; }

echo "âœ… Python formatting and linting complete for backend!"